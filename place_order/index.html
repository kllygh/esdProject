<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <!-- ===============================================-->
  <!--    Document Title-->
  <!-- ===============================================-->
  <title>Mystery Food Box </title>


  <!-- ===============================================-->
  <!--    Favicons-->
  <!-- ===============================================-->
  <link rel="apple-touch-icon" sizes="180x180" href="assets/img/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicons/favicon-16x16.png">
  <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicons/favicon.ico">
  <link rel="manifest" href="assets/img/favicons/manifest.json">
  <meta name="msapplication-TileImage" content="assets/img/favicons/mstile-150x150.png">
  <meta name="theme-color" content="#ffffff">


  <!-- ===============================================-->
  <!--    Stylesheets-->
  <!-- ===============================================-->
  <link href="assets/css/theme.css" rel="stylesheet" />

  <!-- new stylesheets-->
  <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css" crossorigin="anonymous">
  <script src="vendor/bootstrap/js/bootstrap.min.js"></script>
  <link href="vendor/fontawesome/css/all.css" rel="stylesheet">
  <link href="assets/css/login.css" rel="stylesheet">

  <!-- Vue 3 -->
  <script src='https://cdn.jsdelivr.net/npm/vue@3.0.2/dist/vue.global.js'></script>
  <!-- Vue 3: production version, optimized for size and speed -->
  <!-- <script src='https://cdn.jsdelivr.net/npm/vue@3.0.2/dist/vue.global.prod.js'></script> -->

</head>


<body onload="checkLogin()">

  <!-- ===============================================-->
  <!--    Main Content -->
  <!-- ===============================================-->
  <div id="app">
    <main class="main">
      <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top"
        data-navbar-on-scroll="data-navbar-on-scroll">
        <div class="container"><a class="navbar-brand d-inline-flex" href="index.html">
            <h2 class="text-1000 fs-3 fw-bold ms-2 text-gradient">Mystery Food Box</h2>
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
            aria-label="Toggle navigation"><span class="navbar-toggler-icon"> </span></button>
          <div class="collapse navbar-collapse border-top border-lg-0 my-2 mt-lg-0" id="navbarSupportedContent">
            <div class="mx-auto pt-5 pt-lg-0 d-block d-lg-none d-xl-block">
              <p class="mb-0 fw-bold text-lg-center">Deliver to: <i
                  class="fas fa-map-marker-alt text-warning mx-2"></i><span class="fw-normal">Current Location
                </span><span>Mirpur 1 Bus Stand, Dhaka</span></p>
            </div>
            <form class="d-flex mt-4 mt-lg-0 ms-lg-auto ms-xl-0">
              <div class="input-group-icon pe-2" style="height: 20%;"><i
                  class="fas fa-search input-box-icon text-primary"></i>
                <input class="form-control border-0 input-box bg-100" type="search" placeholder="Search Food"
                  aria-label="Search" />
              </div>
              <div class="input-group-icon pe-2">
                <button class="btn btn-white shadow-warning text-warning" type="submit"><i
                    class="fas fa-user me-2"></i>Profile</button>
              </div>
              <div class="input-group-icon pe-2">
                <button class="btn btn-white shadow-warning text-warning" type="submit">
                  <a id="logout" style="cursor: pointer;"><i class="fas fa-sign-out-alt me-2"></i>Logout</a>
                </button>
              </div>
            </form>
          </div>
        </div>
      </nav>
      <section class="py-5 overflow-hidden bg-primary" id="home">
        <div class="container">
          <div class="row flex-center">
            <div class="col-md-5 col-lg-6 order-0 order-md-1 mt-8 mt-md-0"><a class="img-landing-banner" href="#!"><img
                  class="img-fluid" src="assets/img/gallery/hero-header.png" alt="hero-header" /></a></div>
            <div class="col-md-7 col-lg-6 py-8 text-md-start text-center">
              <h1 class="display-1 fs-md-5 fs-lg-6 fs-xl-8 text-white">Are you starving?</h1>
              <h1 class="text-800 mb-5 fs-4">Within a few clicks, find afforable mystery food boxes that<br
                  class="d-none d-xxl-block" /> are accessible near you</h1>
              <div class="card w-xxl-75">
                <div class="card-body">
                  <nav>
                    <div class="nav nav-tabs" id="nav-tab" role="tablist">
                      <button class="nav-link active mb-3" id="nav-home-tab" data-bs-toggle="tab"
                        data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home"
                        aria-selected="true"><i class="fas fa-motorcycle me-2"></i>Nearby</button>
                      <button class="nav-link mb-3" id="nav-profile-tab" data-bs-toggle="tab"
                        data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile"
                        aria-selected="false"><i class="fas fa-shopping-bag me-2"></i>FoodBox</button>
                      <button class="nav-link mb-3" id="nav-profile-tab" data-bs-toggle="tab"
                        data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile"
                        aria-selected="false"><i class="fas fa-shopping-bag me-2"></i>Restaurant</button>
                    </div>
                  </nav>
                  <div class="tab-content mt-3" id="nav-tabContent">
                    <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">

                      <form class="row gx-2 gy-2 align-items-center" v-on:submit.prevent="near_by">
                        <div class="col">
                          <div class="input-group-icon"><i class="fas fa-map-marker-alt text-danger input-box-icon"></i>
                            <label class="visually-hidden" for="inputDelivery">Address</label>
                            <input class="form-control input-box form-foodwagon-control" id="location" type="text"
                              placeholder="Address" v-model="location" />
                          </div>
                        </div>
                        <div class="d-grid gap-3 col-sm-auto">
                          <button class="btn btn-danger">Find Food</button>
                        </div>
                      </form>

                    </div>
                    <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">

                      <form class="row gx-4 gy-2 align-items-center">
                        <div class="col">
                          <div class="input-group-icon"><i class="fas fa-map-marker-alt text-danger input-box-icon"></i>
                            <label class="visually-hidden" for="inputPickup">FoodBox</label>
                            <input class="form-control input-box form-foodwagon-control" type="text" placeholder="BoxID"
                              v-model="boxID" />
                          </div>
                        </div>
                        <div class="d-grid gap-3 col-sm-auto">
                          <button @click="findBox ()" class="btn btn-danger">Find Food</button>
                        </div>

                      </form>
                    </div>
                    <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
                      <form class="row gx-4 gy-2 align-items-center">
                        <div class="col">
                          <div class="input-group-icon"><i class="fas fa-map-marker-alt text-danger input-box-icon"></i>
                            <label class="visually-hidden" for="inputRestaurant">Restaurant</label>
                            <input class="form-control input-box form-foodwagon-control" type="text"
                              placeholder="RestaurantID" v-model="restaurant_id" />
                          </div>
                        </div>
                        <div class="d-grid gap-3 col-sm-auto">
                          <button @click="findRestaurant ()" class="btn btn-danger">Find Food</button>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>


      <!-- ============================================-->
      <!-- <section> Today's Mystery Food Box ============================-->
      <section class="py-4 overflow-hidden">

        <div class="container">
          <div class="row">
            <div class="col-lg-7 mx-auto text-center mt-7 mb-5">
              <h5 class="fw-bold fs-3 fs-lg-5 lh-sm">Today's Mystery Food Boxes</h5>
              <button @click="get_all()" class="btn btn-danger">I love food</button>
            </div>
            boxes : {{boxes}}
            <div class="col-12" v-if="hasBoxes">
              <div class="row gx-3 h-30 align-items-center">


                <div v-for="box in boxes" class="col-sm-6 col-md-4 col-xl-3 mb-5 h-30">
                  <div class="card card-span h-100 rounded-3"><img class="img-fluid rounded-3 h-100"
                      src="assets/img/gallery/mystery_image.jpg" alt="..." />
                    <div class="card-body ps-0">
                      <h5 class="fw-bold text-1000 text-truncate mb-1">{{ box.postName }}</h5>
                      <div><span class="text-warning me-2"><i class="fas fa-map-marker-alt"></i></span><span
                          class="text-primary">{{ box.collectionTime }}</span></div>
                      <span class="text-1000 fw-bold">Price: $ {{ box.price }}</span>
                      <div class="text-1000 fw-bold"> Description:
                        <span class="text-1000 ">{{ box.description }}</span>
                      </div>
                      <div class="text-1000 fw-bold "> Quantity:
                        <span class="text-1000 ">{{ box.quantity }}</span>
                      </div>
                    </div>
                  </div>
                  <div class="d-grid gap-2">
                    <template>
                      <button @click="place_order(box.boxID)" class="btn btn-lg btn-danger"> Order now </button>
                    </template>
                  </div>
                </div>
              </div>
            </div>

            <div class="text-danger" v-if="!hasBoxes">
              {{ message }}
            </div>

          </div>
        </div><!-- end of .container-->

      </section>
      <!-- <section> close ============================-->
      <!-- ============================================-->


      <!-- ============================================-->
      <!-- <section> begin ============================-->
      <section class="py-0 bg-primary-gradient">

        <div class="container">
          <div class="row justify-content-center g-0">
            <div class="col-xl-9">
              <div class="col-lg-6 text-center mx-auto mb-3 mb-md-5 mt-4">
                <h5 class="fw-bold text-danger fs-3 fs-lg-5 lh-sm my-6">How does it work</h5>
              </div>
              <div class="row">
                <div class="col-sm-6 col-md-3 mb-6">
                  <div class="text-center"><img class="shadow-icon" src="assets/img/gallery/location.png" height="112"
                      alt="..." />
                    <h5 class="mt-4 fw-bold">Select location</h5>
                    <p class="mb-md-0">Choose the location where your food will be delivered.</p>
                  </div>
                </div>
                <div class="col-sm-6 col-md-3 mb-6">
                  <div class="text-center"><img class="shadow-icon" src="assets/img/gallery/order.png" height="112"
                      alt="..." />
                    <h5 class="mt-4 fw-bold">Choose order</h5>
                    <p class="mb-md-0">Check over hundreds of menus to pick your favorite food</p>
                  </div>
                </div>
                <div class="col-sm-6 col-md-3 mb-6">
                  <div class="text-center"><img class="shadow-icon" src="assets/img/gallery/pay.png" height="112"
                      alt="..." />
                    <h5 class="mt-4 fw-bold">Pay advanced</h5>
                    <p class="mb-md-0">It's quick, safe, and simple. Select several methods of payment</p>
                  </div>
                </div>
                <div class="col-sm-6 col-md-3 mb-6">
                  <div class="text-center"><img class="shadow-icon" src="assets/img/gallery/meals.png" height="112"
                      alt="..." />
                    <h5 class="mt-4 fw-bold">Enjoy meals</h5>
                    <p class="mb-md-0">Food is made and delivered directly to your home.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div><!-- end of .container-->

      </section>
      <!-- <section> close ============================-->
      <!-- ============================================-->



      <!--Slogan-->
      <section class="py-0">
        <div class="bg-holder"
          style="background-image:url(assets/img/gallery/cta-two-bg.png);background-position:center;background-size:cover;">
        </div>

        <div class="container">
          <div class="row flex-center">
            <div class="col-xxl-9 py-7 text-center">
              <h1 class="fw-bold mb-4 text-white fs-6">Are you ready to order <br />with the best deals? </h1><a
                class="btn btn-danger" href="#"> PROCEED TO ORDER<i class="fas fa-chevron-right ms-2"></i></a>
            </div>
          </div>
        </div>
      </section>


      <!-- ============================================-->
      <!-- <section> begin ============================-->
      <section class="py-0 pt-7 bg-1000">

        <div class="container">
          <div class="row justify-content-lg-between">
            <h5 class="lh-lg fw-bold text-white">OUR TOP CITIES</h5>
            <div class="col-6 col-md-4 col-lg-auto mb-3">
              <ul class="list-unstyled mb-md-4 mb-lg-0">
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">San Francisco</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Miami</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">San Diego</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">East Bay</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Long Beach</a></li>
              </ul>
            </div>
            <div class="col-6 col-md-4 col-lg-auto mb-3">
              <ul class="list-unstyled mb-md-4 mb-lg-0">
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Los Angeles</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Washington DC</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Seattle</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Portland</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Nashville</a></li>
              </ul>
            </div>
            <div class="col-6 col-md-4 col-lg-auto mb-3">
              <ul class="list-unstyled mb-md-4 mb-lg-0">
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">New York City</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Orange County</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Atlanta</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Charlotte</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Denver</a></li>
              </ul>
            </div>
            <div class="col-6 col-md-4 col-lg-auto mb-3">
              <ul class="list-unstyled mb-md-4 mb-lg-0">
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Chicago</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Phoenix</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Las Vegas</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Sacramento</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Oklahoma City</a></li>
              </ul>
            </div>
            <div class="col-6 col-md-4 col-lg-auto mb-3">
              <ul class="list-unstyled mb-md-4 mb-lg-0">
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Columbus</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">New Mexico</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Albuquerque</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Sacramento</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">New Orleans</a></li>
              </ul>
            </div>
          </div>
          <hr class="text-900" />
          <div class="row">
            <div class="col-6 col-md-4 col-lg-3 col-xxl-2 mb-3">
              <h5 class="lh-lg fw-bold text-white">COMPANY</h5>
              <ul class="list-unstyled mb-md-4 mb-lg-0">
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">About Us</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Team</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Careers</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">blog</a></li>
              </ul>
            </div>
            <div class="col-6 col-md-4 col-lg-3 col-xxl-2 col-lg-3 mb-3">
              <h5 class="lh-lg fw-bold text-white">CONTACT</h5>
              <ul class="list-unstyled mb-md-4 mb-lg-0">
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Help &amp; Support</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Partner with us </a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Ride with us</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Ride with us</a></li>
              </ul>
            </div>
            <div class="col-6 col-md-4 col-lg-3 col-xxl-2 mb-3">
              <h5 class="lh-lg fw-bold text-white">LEGAL</h5>
              <ul class="list-unstyled mb-md-4 mb-lg-0">
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Terms &amp; Conditions</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Refund &amp; Cancellation</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Privacy Policy</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Cookie Policy</a></li>
              </ul>
            </div>
            <div class="col-6 col-md-4 col-lg-3 col-xxl-2 mb-3">
              <h5 class="lh-lg fw-bold text-white">LEGAL</h5>
              <ul class="list-unstyled mb-md-4 mb-lg-0">
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Terms &amp; Conditions</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Refund &amp; Cancellation</a></li>
                <li class="lh-lg"><a class="text-200 text-decoration-none" href="#!">Privacy Policy</a></li>
              </ul>
            </div>
            <div class="col-12 col-md-8 col-lg-6 col-xxl-4">
              <h5 class="lh-lg fw-bold text-500">FOLLOW US</h5>
              <div class="text-start my-3"> <a href="#!">
                  <svg class="svg-inline--fa fa-instagram fa-w-14 fs-2 me-2" aria-hidden="true" focusable="false"
                    data-prefix="fab" data-icon="instagram" role="img" xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 448 512">
                    <path fill="#BDBDBD"
                      d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z">
                    </path>
                  </svg></a><a href="#!">
                  <svg class="svg-inline--fa fa-facebook fa-w-16 fs-2 mx-2" aria-hidden="true" focusable="false"
                    data-prefix="fab" data-icon="facebook" role="img" xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 512 512">
                    <path fill="#BDBDBD"
                      d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z">
                    </path>
                  </svg></a><a href="#!">
                  <svg class="svg-inline--fa fa-twitter fa-w-16 fs-2 mx-2" aria-hidden="true" focusable="false"
                    data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 512 512">
                    <path fill="#BDBDBD"
                      d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z">
                    </path>
                  </svg></a></div>
              <h3 class="text-500 my-4">Receive exclusive offers and <br />discounts in your mailbox</h3>
              <div class="row input-group-icon mb-5">
                <div class="col-auto"><i class="fas fa-envelope input-box-icon text-500 ms-3"></i>
                  <input class="form-control input-box bg-800 border-0" type="email" placeholder="Enter Email"
                    aria-label="email" />
                </div>
                <div class="col-auto">
                  <button class="btn btn-primary" type="submit">Subscribe</button>
                </div>
              </div>
            </div>
          </div>
          <hr class="border border-800" />
          <div class="row flex-center pb-3">
            <div class="col-md-6 order-0">
              <p class="text-200 text-center text-md-start">All rights Reserved &copy; Your Company, 2021</p>
            </div>
            <div class="col-md-6 order-1">
              <p class="text-200 text-center text-md-end"> Made with&nbsp;
                <svg class="bi bi-suit-heart-fill" xmlns="http://www.w3.org/2000/svg" width="15" height="15"
                  fill="#FFB30E" viewBox="0 0 16 16">
                  <path
                    d="M4 1c2.21 0 4 1.755 4 3.92C8 2.755 9.79 1 12 1s4 1.755 4 3.92c0 3.263-3.234 4.414-7.608 9.608a.513.513 0 0 1-.784 0C3.234 9.334 0 8.183 0 4.92 0 2.755 1.79 1 4 1z">
                  </path>
                </svg>&nbsp;by&nbsp;<a class="text-200 fw-bold" href="https://themewagon.com/" target="_blank">ESD GROUP
                  3</a>
              </p>
            </div>
          </div>
        </div><!-- end of .container-->

      </section>
      <!-- <section> close ============================-->
      <!-- ============================================-->


    </main>
  </div>

  <!-- ===============================================-->
  <!--    End of Main Content-->
  <!-- ===============================================-->



  <!-- ===============================================-->
  <!--  Vue-->
  <!-- ===============================================-->
  <script>
    function checkLogin() {
      if (localStorage.getItem('uid') == null) {
        window.location.href = 'login.html';
      }
    }
    console.log(localStorage.getItem('uid'))
    // constant for account login
  </script>


  <!---------------------------------------- FIREBASE FOR LOGOUT -------------------------------------------->
  <script src="https://www.gstatic.com/firebasejs/9.12.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.12.1/firebase-firestore-compat.js"></script>
  <script type="module">

    // ----------------------------------------------------LOGOUT-----------------------------------------------//
      // Import the functions you need from the SDKs you need
      import {initializeApp} from "https://www.gstatic.com/firebasejs/9.12.1/firebase-app.js";
      import {
        getAuth,
        browserLocalPersistence,
        signInWithPopup,
        GoogleAuthProvider,
        signOut,
        setPersistence
      } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-auth.js";
      //import {getDatabase, set, ref, update} from "https://www.gstatic.com/firebasejs/9.12.1/firebase-database.js";


      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      const firebaseConfig = {
          // Your configs
              apiKey: "AIzaSyCLWmg-X8gl75JxCVz57jOIekeqSUk6XUY",
              authDomain: "adventuretime-934a2.firebaseapp.com",
              projectId: "adventuretime-934a2",
              storageBucket: "adventuretime-934a2.appspot.com",
              messagingSenderId: "168230082500",
              appId: "1:168230082500:web:6fbd2239d875c99c467691",
              measurementId: "G-MXMNLZZLM8",
              databaseURL: "https://adventuretime-934a2-default-rtdb.asia-southeast1.firebasedatabase.app/",
      };

      // Initialize Firebase
        const firebaseApp = initializeApp(firebaseConfig);
        const auth = getAuth();
        const provider = new GoogleAuthProvider();
        document.getElementById('logout')
        .addEventListener('click', function () {
            signOut(auth).then(() => {
              //alert("Sign out successful")
              localStorage.removeItem('uid')
              sessionStorage.setItem('logout', true)
              window.location.href = 'login.html'
            }).catch((error) => {
                // An error happened.
                console.log(error);
            });
        });
    </script>
  <!-- ------------------------------------------------end of firebase----------------------------------------------------------- -->

  <script>
    const app = Vue.createApp({
      computed: {
        hasBoxes: function () {
          return this.boxes.length > 0;
        }
      },
      data() {
        return {

          //retrieve box data
          boxID: "",
          location: "",
          restaurant_id: "",
          price: "",
          postTime: "",
          postName: "",
          boxName: "",
          collectTime: "",
          description: "",
          quantity: "",
          boxes: [],
          message: "There is a problem retrieving books data, please try again later.",

          //add box data
          newboxName: "",
          newboxID: "",
          newprice: "",
          newrestaurant_id: "",
          newpostTime: "",
          newdescription: "",
          newquantity: "",
          newpostDate: "",
          newpostName: "",
          newcollectionTime: "",
          bookAdded: false,
          addBookError: "",

          nearby_URL: "http://localhost:5400/near_by",
          box_URL: "http://localhost:5000/box",
          rest_URL: "http://localhost:5300/restaurant",

        };
      },

      methods: {

        // GET ALL BOXES
        get_all() {
          // on Vue instance created, load the box list
          const response =
            fetch(this.box_URL)
            .then(response => response.json())
            .then(data => {
              console.log(response);
              if (data.code === 404) {
                // no box in db
                this.message = data.message;
              } else {
                this.boxes = data.data.boxes;
              }
            })
            .catch(error => {
              // Errors when calling the service; such as network error, 
              // service offline, etc
              console.log(this.message + error);
            });
        },

        // GET A BOX WITH boxID
        findBox() {
          console.log(this.boxID);
          const response =
            fetch(`${this.box_URL}/${this.boxID}`)
            .then(response => response.json())
            .then(data => {
              console.log(response);
              if (data.code === 404) {
                // no box in db
                this.message = data.message;
                this.boxes = [];
              } else {
                this.boxes = [data.data];
              }
            })
            .catch(error => {
              // Errors when calling the service; such as network error, 
              // service offline, etc
              console.log(this.message + error);

            });

        },

        // GET A FEW BOXES BASED ON RESTAURANT ID
        findRestaurant() {
          console.log(this.restaurant_id);
          const response =
            fetch(`${this.box_URL}/rest/${this.restaurant_id}`)
            .then(response => response.json())
            .then(data => {
              console.log(response);
              if (data.code === 404) {
                // no box in db
                this.message = data.message;
                this.boxes = [];
              } else {
                this.boxes = [data.data];
              }
            })
            .catch(error => {
              // Errors when calling the service; such as network error, 
              // service offline, etc
              console.log(this.message + error);

            });

        },

        // CREATE BOX 
        addBox() {
          // reset data
          this.boxAdded = false;
          this.addBoxError = "";

          let jsonData = JSON.stringify({
            boxID: this.newboxID,
            boxName: this.newboxName,
            restaurant_id: this.restaurant_id,
            postTime: this.newpostTime,
            quantity: this.newquantity,
            collectionTime: this.newcollectionTime,
            price: this.newprice,
            description: this.newdescription,
            postName: this.newpostName,
            postDate: this.newpostDate,
            quantity: this.newquantity
          });

          fetch(`${this.box_URL}/${this.newboxID}`, {
              method: "POST",
              headers: {
                "Content-type": "application/json"
              },
              body: jsonData
            })
            .then(response => response.json())
            .then(data => {
              console.log(data);
              result = data.data;
              console.log(result);
              // 3 cases
              switch (data.code) {
                case 201:
                  this.boxAdded = true;

                  // refresh book list
                  this.getAllBoxes();

                  // an alternate way is to add this one element into this.books
                  break;

                case 400:
                case 500:
                  this.addBoxError = data.message;
                  break;
                default:
                  throw `${data.code}: ${data.message}`;
              }
            })
        },

        near_by() {

          const response =
            fetch(this.nearby_URL, {
              method: "POST",
              headers: {
                "Content-type": "application/json"
              },
              body: JSON.stringify({
                "customer_location": this.location
              })
            })
            .then(response => response.json())
            .then(data => {
              console.log(response);
              if (data.code === 404) {
                // no box in db
                this.message = data.message;
                console.log(data.message)
              } else {
                this.boxes = data.boxes;
              }
            })
            .catch(error => {
              // Errors when calling the service; such as network error, 
              // service offline, etc
              console.log(this.message + error);
            });
        },


        created() {
          // on Vue instance created, load the box list
          this.get_all();
        },

      }
    });
    const vm = app.mount('#app');
  </script>




  <!-- ===============================================-->
  <!--    JavaScripts-->
  <!-- ===============================================-->
  <script src="vendors/@popperjs/popper.min.js"></script>
  <script src="vendors/bootstrap/bootstrap.min.js"></script>
  <script src="vendors/is/is.min.js"></script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=window.scroll"></script>
  <script src="vendors/fontawesome/all.min.js"></script>
  <script src="assets/js/theme.js"></script>
  <script src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js'
    integrity='sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM' crossorigin='anonymous'>
  </script>

  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@200;300;400;600;700;900&amp;display=swap"
    rel="stylesheet">
</body>

</html>